# V2EX Polish 黑夜模式测试安装指南

## 方法一：直接从 WSL 加载（推荐）

1. 打开 Windows 文件资源管理器
2. 在地址栏输入：`\\wsl$\Ubuntu\root\Github\V2EX_Polish\extension`
   - 如果您的 WSL 发行版不是 Ubuntu，请替换为相应的名称（如 `\\wsl$\Debian` 等）
3. 打开 Chrome 浏览器
4. 在地址栏输入：`chrome://extensions/`
5. 开启右上角的"开发者模式"
6. 点击"加载已解压的扩展程序"
7. 选择步骤 2 中的 `extension` 文件夹

## 方法二：从 Windows 文件系统加载

如果方法一不工作，可以使用已复制到 Windows 的文件：

1. 打开 Chrome 浏览器
2. 在地址栏输入：`chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `C:\temp\v2ex-polish-extension` 文件夹

## 测试黑夜模式效果

1. 安装扩展后，访问 [V2EX 网站](https://www.v2ex.com/)
2. 点击页面右上角的主题切换按钮（月亮/太阳图标）
3. 切换到黑夜模式，您应该能看到：
   - 主背景色变为纯黑色 (#000000)
   - 内容区域背景色为深黑色 (#111111)
   - 滚动条背景色为深灰黑色 (#1a1a1a)

## 开发模式下的实时更新

如果您想在开发过程中实时看到更改：

1. 在 WSL 中运行监听命令：
   ```bash
   cd /root/Github/V2EX_Polish
   npm run watch
   ```

2. 每次修改样式文件后，在 Chrome 扩展页面点击扩展的"刷新"按钮

3. 刷新 V2EX 页面即可看到更改

## 故障排除

### 如果扩展无法加载：
- 确保 `manifest.json` 文件存在于扩展文件夹中
- 检查 Chrome 控制台是否有错误信息
- 尝试重新生成 manifest.json：
  ```bash
  cd /root/Github/V2EX_Polish
  npx tsx scripts/build-manifest.ts
  ```

### 如果样式没有生效：
- 确保样式文件已编译：
  ```bash
  npm run build:style
  ```
- 在 Chrome 扩展页面刷新扩展
- 清除浏览器缓存并刷新 V2EX 页面

### 如果 WSL 路径无法访问：
- 确保 WSL 正在运行
- 尝试在 Windows 命令提示符中运行：`wsl --list --running`
- 如果 WSL 未运行，启动它：`wsl`

## 修改内容总结

本次修改将黑夜模式的背景色从灰色调整为黑色：

- **主背景色**：`#1c2128` → `#000000`
- **内容背景色**：`#22272e` → `#111111`  
- **滚动条背景色**：`#22303f` → `#1a1a1a`

这些更改提供了更深邃的视觉体验，特别适合夜间使用。
